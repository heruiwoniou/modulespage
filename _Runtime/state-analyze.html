<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="Content/style/common.css">
    <style>
    html {
        overflow: hidden
    }
    </style>
</head>
<body class="state-analyze mCustomScrollbar">
    <div class="topheader">
        <div class="inline-container" style="width:200px">
            <select name="" id="">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
            </select>
        </div>
    </div>
    <div class="container" v-cloak>
        <div class="button-panel">
            <a href="javascript:;" @click="setIndex(0)" :class="['button',current==0?'g':'gray','no-radius']">基本情况</a>
            <a href="javascript:;" @click="setIndex(1)" :class="['button',current==1?'g':'gray','no-radius']">综合情况</a>
            <a href="javascript:;" @click="setIndex(2)" :class="['button',current==2?'g':'gray','no-radius']">答案详情</a>
        </div>
    </div>
    <div class="container section-1" v-cloak>
        <div class="PanelControl" v-show="current==0" v-el:panel-control-1>
            <div class="panel-head p">基本情况</div>
            <div class="panel-body">
                <div class="FrameLeftRightControl">
                    <div class="FrameLeft" style="width:275px">
                        <div class="SmallPanelControl question-panel">
                            <div class="SmallPanel-head">
                                <div class="small-button-panel">
                                    <a href="javascript:;" class="export">全部导出</a>
                                    <a href="javascript:;" class="share">分享</a>
                                </div>
                            </div>
                            <div class="SmallPnel-body">
                                <a href="javascript:;"><h1>全部</h1></a>
                                <ul>
                                    <li v-for="(index,item) in questions">
                                        <a href="javascriptp:;" @click="scrollTo(index)">
                                            <span>Q{{index + 1}}:</span> {{item.question}}
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="FrameBar" style="left:275px"></div>
                    <div class="FrameRight" style="padding-left:285px">
                        <div class="FrameRightContent" v-el:frame-right-content>
                            <div class="SmallPanelControl">
                                <div class="SmallPanel-head">
                                    全部
                                    <div class="small-button-panel">
                                        <a href="javascript:;" class="sort">排序</a>
                                        <a href="javascript:;" class="export">导出</a>
                                    </div>
                                </div>
                                <div class="SmallPnel-body">
                                    <div id="chart0" style="width: 100%;height:400px;"></div>
                                </div>
                            </div>
                            <div class="SmallPanelControl" v-for="(index,item) in questions">
                                <div class="SmallPanel-head question-item">
                                    <span class="color7">Q{{index + 1}}:</span> {{item.question}}
                                    <div class="small-button-panel">
                                        <a href="javascript:;" class="export">导出</a>
                                    </div>
                                </div>
                                <div class="SmallPnel-body">
                                    <div class="row">
                                        <div class="col-6">
                                            <div id="chart{{index + 1}}" style="width: 100%;height:400px;"></div>
                                        </div>
                                        <div class="col-6" style="min-height:400px">
                                            <table class="list-grid">
                                                <tr>
                                                    <th>答案选项</th>
                                                    <th>答题情况</th>
                                                </tr>
                                                <tr>
                                                    <td>选项1</td>
                                                    <td>1</td>
                                                </tr>
                                                <tr>
                                                    <td>选项2</td>
                                                    <td>2</td>
                                                </tr>
                                                <tr>
                                                    <td>选项3</td>
                                                    <td>3</td>
                                                </tr>
                                                <tr>
                                                    <td>选项1</td>
                                                    <td>1</td>
                                                </tr>
                                                <tr>
                                                    <td>选项2</td>
                                                    <td>2</td>
                                                </tr>
                                                <tr>
                                                    <td>选项3</td>
                                                    <td>3</td>
                                                </tr>
                                                <tr>
                                                    <td>选项1</td>
                                                    <td>1</td>
                                                </tr>
                                                <tr>
                                                    <td>选项2</td>
                                                    <td>2</td>
                                                </tr>
                                                <tr>
                                                    <td>选项3</td>
                                                    <td>3</td>
                                                </tr>
                                                <tr class="total">
                                                    <td>合计</td>
                                                    <td>6</td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="PanelControl" v-show="current==1" v-el:panel-control-2>
            <div class="panel-head r">综合情况</div>
            <div class="panel-body">
                <div id="reportmain" class="part-1"  v-show="isadd||isview">
                    <h1 @click="newviewtoggle(false,false)">&#x34;返回</h1>
                    <div class="FrameLeftRightControl" v-el:add-new-report>
                        <div class="FrameLeft" style="width:230px">
                            <div class="FrameContainer mCustomScrollbar" style="overflow:hidden">
                                <ul>
                                    <li v-for="item in reportdata" :class="{select:$index == editindex}"><a href="javascript:;">{{item.title}}</a></li>
                                    <li class="new"><a href="javascript:;"  @click="addnewmodeltoggle(true)">新增图表</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="FrameBar" style="left:230px"></div>
                        <div class="FrameRight mCustomScrollbar" style="margin-left:240px">
                            <div class="FrameContainer" style="overflow:hidden">
                                <div class="PanelControl">
                                    <div class="panel-head b">报告名称</div>
                                    <div class="panel-body">
                                        <input type="text" placeholder="这里是报告的名称" value ="这里是报告的名称"/>
                                    </div>
                                </div>
                                <div class="PanelControl addnewmode" v-for="chart in reportdata">
                                    <div class="panel-head g">
                                        <div class="inline-container" style="width:50%">
                                            <input type="text" placeholder="报表标题，点击可修改" v-model="chart.title"/>
                                        </div>
                                        <div class="inline-container" style="float:right">
                                            <a href="javascript:;" class="save">保存</a>
                                            <a href="javascript:;">删除</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="FrameLeftRightControl rtl">
                                            <div class="FrameRight" v-el:row-cell-setting style="width:400px">
                                                <div class="PanelControl custom-row">
                                                    <div class="panel-head p">自定义行
                                                        <div class="inline-container">
                                                            <a href="javascript:;" @click="addfilter($event,chart.rowsource)">&#x4c;添加条件</a>
                                                        </div>
                                                    </div>
                                                    <div class="panel-body">
                                                        <template v-for="item in chart.rowsource">
                                                            <div class="filter">
                                                                <div class="filter-header">
                                                                <select tip-title="选择你要选择的题" v-model="item.id">
                                                                    <option value=""></option>
                                                                    <option v-for="q in questionsLibray" :value="q.id">{{q | QIndexTip}}</option>
                                                                </select>
                                                                <b></b></div>
                                                                <div class="filter-drop"  v-if="hasChooseOption(item.id)">
                                                                    <template v-for="o in questionsLibray | filterBy item.id in 'id'">
                                                                        <div v-for="option in o.items" @click="setoption(item,option)" :class="['filter-option',item.value == option ? 'select':'']">{{option}}</div>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <template v-if="chart.rowsource && chart.rowsource.length==0">
                                                            <div class="color7">
                                                                并未添加任何选项
                                                            </div>
                                                        </template>
                                                    </div>
                                                </div>
                                                <div class="PanelControl custom-cell">
                                                    <div class="panel-head y">自定义列
                                                        <div class="inline-container">
                                                            <a href="javascript:;" @click="addfilter($event,chart.cellsource)">&#x4c;添加条件</a>
                                                        </div>
                                                    </div>
                                                    <div class="panel-body">
                                                        <template v-for="item in chart.cellsource">
                                                            <div class="filter">
                                                                <div class="filter-header">
                                                                <select tip-title="选择你要选择的题" v-model="item.id">
                                                                    <option value=""></option>
                                                                    <option v-for="q in questionsLibray" :value="q.id">{{q | QIndexTip}}</option>
                                                                </select>
                                                                <b></b></div>
                                                                <div class="filter-drop"  v-if="hasChooseOption(item.id)">
                                                                    <template v-for="o in questionsLibray | filterBy item.id in 'id'">
                                                                        <div v-for="option in o.items" @click="setoption(item,option)" :class="['filter-option',item.value == option ? 'select':'']">{{option}}</div>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <template v-if="chart.cellsource && chart.cellsource.length==0">
                                                            <div class="color7">
                                                                并未添加任何选项
                                                            </div>
                                                        </template>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="FrameBar" style="right:400px"></div>
                                            <div class="FrameLeft"  style="margin-right:410px">
                                               <textarea cols="30" rows="5" placeholder="此处可填写针对此报表的评论" v-model="chart.comment"></textarea>
                                               <div id="PresentationLayer{{$index}}" :data-index="$index" class="PresentationLayer">
                                                   <div class="color7">添加行列以生成图表</div>
                                               </div>
                                               <table v-if="chart.rowsource.length!==0&&chart.cellsource.length!==0">
                                                    <tr v-for="index in chart.rowsource.length + 1">
                                                        <template v-if="$index == 0">
                                                            <th></th>
                                                            <th v-for="cell in chart.cellsource">{{cell.value}}</th>
                                                        </template>
                                                        <template v-else>
                                                            <th>{{chart.rowsource[index - 1].value}}</th>
                                                            <td v-for="cell in chart.cellsource"></td>
                                                        </template>
                                                    </tr>
                                               </table>
                                               <div v-else class="color7">
                                                    添加行列以生成表格
                                               </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="PanelControl addnewmode" v-show="addnewmode||editmode">
                                    <div class="panel-head g">
                                        <div class="inline-container" style="width:50%">
                                            <input type="text" placeholder="报表标题，点击可修改" v-model="currentdata.title"/>
                                        </div>
                                        <div class="inline-container" style="float:right">
                                            <a href="javascript:;" class="save">保存</a>
                                            <a href="javascript:;" @click="addnewmodeltoggle(false)">删除</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <div class="FrameLeftRightControl rtl">
                                            <div class="FrameRight" v-el:row-cell-setting style="width:400px">
                                                <div class="PanelControl custom-row">
                                                    <div class="panel-head p">自定义行
                                                        <div class="inline-container">
                                                            <a href="javascript:;"  @click="addfilter($event,currentdata.rowsource)">&#x4c;添加条件</a>
                                                        </div>
                                                    </div>
                                                    <div class="panel-body">
                                                        <template v-for="item in currentdata.rowsource">
                                                            <div class="filter">
                                                                <div class="filter-header">
                                                                <select tip-title="选择你要选择的题" v-model="item.id">
                                                                    <option value=""></option>
                                                                    <option v-for="q in questionsLibray" :value="q.id">{{q | QIndexTip}}</option>
                                                                </select>
                                                                <b></b></div>
                                                                <div class="filter-drop"  v-if="hasChooseOption(item.id)">
                                                                    <template v-for="o in questionsLibray | filterBy item.id in 'id'">
                                                                        <div v-for="option in o.items" @click="setoption(item,option)" :class="['filter-option',item.value == option ? 'select':'']">{{option}}</div>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <template v-if="currentdata.rowsource && currentdata.rowsource.length==0">
                                                            <div class="color7">
                                                                并未添加任何选项
                                                            </div>
                                                        </template>
                                                    </div>
                                                </div>
                                                <div class="PanelControl custom-cell">
                                                    <div class="panel-head y">自定义列
                                                        <div class="inline-container">
                                                            <a href="javascript:;"  @click="addfilter($event,currentdata.cellsource)">&#x4c;添加条件</a>
                                                        </div>
                                                    </div>
                                                    <div class="panel-body">
                                                        <template v-for="item in currentdata.cellsource">
                                                            <div class="filter">
                                                                <div class="filter-header">
                                                                <select tip-title="选择你要选择的题" v-model="item.id">
                                                                    <option value=""></option>
                                                                    <option v-for="q in questionsLibray" :value="q.id">{{q | QIndexTip}}</option>
                                                                </select>
                                                                <b></b></div>
                                                                <div class="filter-drop"  v-if="hasChooseOption(item.id)">
                                                                    <template v-for="o in questionsLibray | filterBy item.id in 'id'">
                                                                        <div v-for="option in o.items" @click="setoption(item,option)" :class="['filter-option',item.value == option ? 'select':'']">{{option}}</div>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </template>
                                                        <template v-if="currentdata.cellsource && currentdata.cellsource.length==0">
                                                            <div class="color7">
                                                                并未添加任何选项
                                                            </div>
                                                        </template>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="FrameBar" style="right:400px"></div>
                                            <div class="FrameLeft"  style="margin-right:410px">
                                               <textarea cols="30" rows="5" placeholder="此处可填写针对此报表的评论" v-model="currentdata.comment"></textarea>
                                               <div id="NewPresentationLayer" :class="['PresentationLayer',rows.length!==0&&cells.length!==0?'':'empty']">
                                                   <div class="color7">添加行列以生成图表</div>
                                               </div>
                                               <table v-if="rows.length!==0&&cells.length!==0">
                                                    <tr v-for="index in rows.length + 1">
                                                        <template v-if="$index == 0">
                                                            <th></th>
                                                            <th v-for="cell in cells">{{cell.value}}</th>
                                                        </template>
                                                        <template v-else>
                                                            <th>{{rows[index - 1].value}}</th>
                                                            <td v-for="cell in cells"></td>
                                                        </template>
                                                    </tr>
                                               </table>
                                               <div v-else class="color7">
                                                    添加行列以生成表格
                                               </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="center">
                                    <div class="box" @click="addnewmodeltoggle(true)">
                                        新增图表
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="table-grid part-2" v-show="!isview&&!isadd">
                    <div class="row" v-for="index in Math.ceil ( ( analyzes.length + 1 ) / 4 )">
                        <div class="col-3 rows" v-for="col in 4" v-if="(index * 4 + col - 1) < analyzes.length">
                            <div :class="['column',getColor()]" v-if="(index * 4 + col - 1) !== -1">
                                <span class="thumbtack" @click="togglecommand($event)"></span>
                                <h1 @click="newviewtoggle(false,true)">
                                    {{analyzes[ index * 4 + col -1 ].title}}
                                </h1>
                                <p></p>
                                <div class="column-bottom">
                                    <span class="right">{{analyzes[ index * 4 + col -1 ].date | date}}</span>
                                </div>
                                <div class="command">
                                    <a href="javascript:;" class="share"><i></i><b>分享</b></a>
                                    <a href="javascript:;" class="delete"><i></i><b>删除</b></a>
                                    <a href="javascript:;" class="export"><i></i><b>导出</b></a>
                                </div>
                            </div>
                            <div class="column new" v-else>
                                <a href="javascript:;" @click="newviewtoggle(true,false)">新的报告</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="PanelControl" v-show="current==2" v-el:panel-control-3>
            <div class="panel-head o">答案详情</div>
            <div class="panel-body">
                <table class="list-grid">
                    <tr>
                        <th>序号</th>
                        <th>答题人</th>
                        <th>所属单位</th>
                        <th>答题时间</th>
                        <th>耗时</th>
                        <th>操作</th>
                    </tr>
                    <tr v-for="index in [0,1,2,3,4]">
                        <td>{{index + 1}}</td>
                        <td>张思思</td>
                        <td>电子科技大学附属第二实验小学</td>
                        <td>2016-03-12 11:12:40</td>
                        <td>5分钟</td>
                        <td>
                            <a href="javascript:;" class="viewinfo"></a>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>
<script data-main="Static/js/config" main="manage/analyze" src="Static/js/libs/requirejs/require.js"></script>

</html>
